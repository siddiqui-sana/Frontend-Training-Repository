<script>
    function asyncWithPromise() {
      return new Promise(function (resolve, reject) {
        setTimeout(function () {
          resolve();
        }, 3000);
        setTimeout(function () {
          console.log("rejection timer");
          reject();
        }, 1000);
      });
    }

    asyncWithPromise()
      .then(function () {
        console.log("promise resolved");
      })
      .catch(function () {
        console.log("promise rejected");
      });
  </script>